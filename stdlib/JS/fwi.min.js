(function(){var t,e,i,o,n,f,s,u,r=function(t,e){return function(){return t.apply(e,arguments)}};o=function(){return"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports:"undefined"!=typeof window?window.FWI:"undefined"!=typeof t?t:void 0},"undefined"!=typeof window&&(window.FWI={}),e=function(t,e,i,o){var n,f,s,u,r,h,p,b,y,c,l,a;for(f=8,h=23,o&&(f=11,h=52),n=(1<<f-1)-1,isNaN(t)?(s=(1<<n)-1,p=1,a=0):t===1/0||t===-(1/0)?(s=(1<<n)-1,p=0,a=t<0?1:0):0===t?(s=0,p=0,a=0):(a=t<0?1:0,t<0&&(t=-t),t>=Math.pow(2,1-n)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),n),s=r+n,p=Math.floor(t*Math.pow(2,h-r)-Math.pow(2,h))):(s=0,p=Math.floor(t/Math.pow(2,1-n-h)))),c=u=0,l=o?8:4;0<=l?u<l:u>l;c=0<=l?++u:--u)e[i+c]=0;o?(1===a&&(e[i+7]=128),e[i+7]|=s>>4,e[i+6]|=(15&s)<<4,b=0|p,b<0&&(b+=4294967296),y=p-b,y/=4294967296,e[i+6]|=y>>16&15,e[i+5]|=y>>8&255,e[i+4]|=255&y,e[i+3]|=b>>24&255,e[i+2]|=b>>16&255,e[i+1]|=b>>8&255,e[i]|=255&b):(1===a&&(e[i+3]=128),e[i+3]|=s>>1,e[i+2]|=(1&s)<<7,e[i+2]|=p>>16&127,e[i+1]|=p>>8&255,e[i]|=255&p)},i=function(t,e,i){var o,n,f,s,u,r,h,p,b,y,c,l,a,_,d,g,v,w,M,B,m,k;for(o=t[e],n=t[e+1],s=t[e+2],u=t[e+3],i&&(r=t[e+4],y=t[e+5],c=t[e+6],l=t[e+7]),g=o|n<<8|s<<16,v=0,k=1,p=0,h=1,d=0,b=127,i&&(b=1023),i?(p=c|l<<8,k=0!==(128&l)?-1:1,h=(p>>4&2047)-b,v=u|r<<8|y<<16|c<<24,d=52):(p=s|u<<8,k=0!==(128&u)?-1:1,h=(p>>7&255)-b,d=23),w=1,h===-127&&(w=0,h=-126),M=_=1,m=d;1<=m?_<=m:_>=m;M=1<=m?++_:--_)a=Math.pow(2,-M),f=d-M,B=!1,B=f>=24?0!==(v&1<<f-24):0!==(g&1<<f),B&&(w+=a);return 128===h&&1===w?k*(1/0):128===h&&w>1?NaN:h+b===0&&1===w?0:k*Math.pow(2,h)*w},u=function(t){return function(t,e){return i(t,e,!1)}}(this),s=function(t){return function(t,e){return i(t,e,!0)}}(this),f=function(t){return function(t,i,o){return e(o,t,i,!1)}}(this),n=function(t){return function(t,i,o){return e(o,t,i,!0)}}(this),t={},t.util={},t.util.exports=o,t.util.extend=function(t,e){var i,o;for(o in e)({}).hasOwnProperty.call(e,o)&&(t[o]=e[o]);return i=function(){return this.constructor=t,this},i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},t.create_block_type=function(e,i){var o;return o={},o[e]=function(){return o[e].__super__.constructor.call(this,i)},t.util.extend(o[e],t.Block),o[e]},t.ByteBuffer=function(){function t(){this.bytes=null,this.length=0}return t.prototype.allocate=function(t){var e,i,o;for(this.bytes=[],this.length=t,i=e=0,o=this.length;0<=o?e<o:e>o;i=0<=o?++e:--e)this.bytes[i]=0},t.prototype.free=function(){this.bytes=null,this.length=0},t}(),t.Block=function(){function e(t){this.get_i64=r(this.get_i64,this),this.set_i64=r(this.set_i64,this),this.get_u64=r(this.get_u64,this),this.set_u64=r(this.set_u64,this),this.size=t,this.buf=null,this.children={},this.off=0}return e.prototype.update_children=function(){var t,e,i;for(i in this.children)e=this.children[i],t=Number(i)+this.off,e.map_to(this.buf,t)},e.prototype.allocate=function(){this.buf=new t.ByteBuffer,this.buf.allocate(this.size),this.off=0,this.update_children()},e.prototype.map_to=function(t,e){this.buf=t,this.off=e,this.update_children()},e.prototype.get_bytes=function(){var t,e,i,o;for(o=[],t=e=0,i=this.size;0<=i?e<i:e>i;t=0<=i?++e:--e)o[t]=this.buf.bytes[this.off+t];return o},e.prototype.free=function(){this.buf=null,this.off=0},e.prototype.get_child=function(t,e){var i,o;return i=e+this.off,null!=this.children[e]?this.children[e]:(o=new t,o.map_to(this.buf,i),this.children[e]=o,o)},e.prototype.set_bool=function(t,e,i){t+=this.off,this.buf.bytes[t]^=(-(val?1:0)^this.buf.bytes[t])&1<<e},e.prototype.get_bool=function(t,e){return 0!==(this.buf.bytes[t+this.off]&1<<e)},e.prototype.set_u8=function(t,e){this.buf.bytes[t+this.off]=255&e},e.prototype.get_u8=function(t){return this.buf.bytes[t+this.off]},e.prototype.set_i8=function(t,e){this.buf.bytes[t+this.off]=255&e},e.prototype.get_i8=function(t){var e;return e=this.buf.bytes[t+this.off],e>127&&(e-=256),e},e.prototype.set_u16=function(t,e){var i;e&=65535,i=t+this.off,this.buf.bytes[i+1]=e>>8&255,this.buf.bytes[i]=255&e},e.prototype.get_u16=function(t){var e;return e=t+this.off,this.buf.bytes[e]|this.buf.bytes[e+1]<<8},e.prototype.set_i16=function(t,e){var i;e&=65535,i=t+this.off,this.buf.bytes[i+1]=e>>8&255,this.buf.bytes[i]=255&e},e.prototype.get_i16=function(t){var e,i;return e=t+this.off,i=this.buf.bytes[e]|this.buf.bytes[e+1]<<8,i>32767&&(i-=65536),i},e.prototype.set_u32=function(t,e){var i;e&=4294967295,i=t+this.off,this.buf.bytes[i+3]=e>>24&255,this.buf.bytes[i+2]=e>>16&255,this.buf.bytes[i+1]=e>>8&255,this.buf.bytes[i]=255&e},e.prototype.get_u32=function(t){var e;return e=t+this.off,this.buf.bytes[e]|this.buf.bytes[e+1]<<8|this.buf.bytes[e+2]<<16|this.buf.bytes[e+3]<<24},e.prototype.set_i32=function(t,e){var i;e&=4294967295,i=t+this.off,this.buf.bytes[i+3]=e>>24&255,this.buf.bytes[i+2]=e>>16&255,this.buf.bytes[i+1]=e>>8&255,this.buf.bytes[i]=255&e},e.prototype.get_i32=function(t){var e,i;return e=t+this.off,i=this.buf.bytes[e]|this.buf.bytes[e+1]<<8|this.buf.bytes[e+2]<<16|this.buf.bytes[e+3]<<24,i>2147483647&&(i-=4294967296),i},e.prototype.set_u64=function(t,e){return this.set_u32(t,e)},e.prototype.get_u64=function(t){return this.get_u32(t)},e.prototype.set_i64=function(t,e){return this.set_i32(t,e)},e.prototype.get_i64=function(t){return this.get_i32(t)},e.prototype.set_string=function(t,e,i){var o,n,f,s,u;for(o=n=0,s=Math.min(e.length,i);0<=s?n<s:n>s;o=0<=s?++n:--n)this.buf.bytes[this.off+t+o]=e.charCodeAt(o);if(e.length<i)for(o=f=0,u=i-e.length;0<=u?f<u:f>u;o=0<=u?++f:--f)this.buf.bytes[this.off+t+e.length+o]=0},e.prototype.get_string=function(t,e){var i,o,n,f;for(f="",i=o=0,n=e;0<=n?o<n:o>n;i=0<=n?++o:--o)f+=String.fromCharCode(this.buf.bytes[this.off+t+i]);return f},e.prototype.get_float32=function(t){return u(this.buf.bytes,t+this.off)},e.prototype.get_float64=function(t){return s(this.buf.bytes,t+this.off)},e.prototype.set_float32=function(t,e){return f(this.buf.bytes,t+this.off,e)},e.prototype.set_float64=function(t,e){return n(this.buf.bytes,t+this.off,e)},e}(),o().ByteBuffer=t.ByteBuffer,o().Block=t.Block,o().util=t.util,o().block=t.create_block_type}).call(this);